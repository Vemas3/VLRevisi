<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulasi Gaya Otot - Virtual Lab Sains SD</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style-simulasi-drag.css">
    
    <!-- Redirect Script -->
    <script>
        if (!sessionStorage.getItem('coverShown')) {
            window.location.href = 'cover.html';
        }
    </script>
    <style>
        body {
            visibility: hidden;
        }
        body.loaded {
            visibility: visible;
        }
    </style>
</head>
<body>
    <header class="simulasi-drag-header">
        <div class="header-content">
            <a href="simulasi.html" class="back-btn">â¬…ï¸ Kembali</a>
            <div class="title">
                <h1>ğŸ’ª SIMULASI GAYA OTOT</h1>
                <p>Drag & Drop Objek untuk Eksperimen</p>
            </div>
        </div>
    </header>

    <div class="simulasi-drag-container">
        <!-- Sidebar Kiri - Objek Drag & Drop -->
        <div class="objects-sidebar">
            <h3 class="sidebar-title">ğŸ¯ Objek Percobaan</h3>
            <div class="objects-grid">
                <div class="drag-object" draggable="true" data-type="manusia" data-src="asset/manusia.png">
                    <div class="object-icon">ğŸ‘¦</div>
                    <div class="object-name">Manusia</div>
                </div>
                <div class="drag-object" draggable="true" data-type="meja" data-src="asset/meja.png">
                    <div class="object-icon">ğŸª‘</div>
                    <div class="object-name">Meja</div>
                </div>
                <div class="drag-object" draggable="true" data-type="bola" data-src="asset/bola.png">
                    <div class="object-icon">ğŸ€</div>
                    <div class="object-name">Bola</div>
                </div>
                <div class="drag-object" draggable="true" data-type="beban" data-src="asset/beban.png">
                    <div class="object-icon">âš–ï¸</div>
                    <div class="object-name">Beban</div>
                </div>
                <div class="drag-object" draggable="true" data-type="pintu" data-src="asset/pintu.png">
                    <div class="object-icon">ğŸšª</div>
                    <div class="object-name">Pintu</div>
                </div>
            </div>
        </div>

        <!-- Area Simulasi Tengah -->
        <div class="simulation-area" id="simulationArea">
            <div class="drop-zone" id="mainDropZone"></div>
        </div>

        <!-- Sidebar Kanan - Kontrol -->
        <div class="controls-sidebar">
            <h3 class="controls-title">ğŸ® Kontrol Simulasi</h3>
            
            <div class="control-buttons">
                <button class="control-btn play" onclick="jalankanSimulasi()">
                    â–¶ï¸ Jalankan Simulasi
                </button>
                <button class="control-btn reset" onclick="resetSimulasi()">
                    ğŸ”„ Reset Semua
                </button>
                <button class="control-btn" onclick="hapusSemuaObjek()">
                    ğŸ—‘ï¸ Hapus Objek
                </button>
            </div>

            <div class="data-panel">
                <h3>ğŸ“Š Data Pengamatan</h3>
                <div class="data-grid">
                    <div class="data-item">
                        <span class="data-label">Objek di Area:</span>
                        <span class="data-value" id="objectCount">0</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">Status:</span>
                        <span class="data-value" id="simStatus">Siap</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">Gaya Otot:</span>
                        <span class="data-value" id="muscleForce">-</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">Hasil:</span>
                        <span class="data-value" id="result">-</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script-simulasi-drag.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.body.classList.add('loaded');
            initDragAndDrop();
        });

        function jalankanSimulasi() {
            const objects = document.querySelectorAll('.dropped-object');
            if (objects.length === 0) {
                alert('ğŸš« Silakan tarik objek ke area simulasi terlebih dahulu!');
                return;
            }

            document.getElementById('simStatus').textContent = 'Berjalan...';
            
            const manusia = document.querySelector('.dropped-object[data-type="manusia"]');
            const meja = document.querySelector('.dropped-object[data-type="meja"]');
            const bola = document.querySelector('.dropped-object[data-type="bola"]');
            const beban = document.querySelector('.dropped-object[data-type="beban"]');
            const pintu = document.querySelector('.dropped-object[data-type="pintu"]');
            
            if (manusia) {
                document.getElementById('muscleForce').textContent = 'Aktif';
                
                if (meja) {
                    document.getElementById('result').textContent = 'Mendorong Meja';
                    meja.style.transition = 'all 2s ease-in-out';
                    meja.style.transform = 'translateX(200px)';
                    
                    setTimeout(() => {
                        document.getElementById('simStatus').textContent = 'Selesai';
                        alert('ğŸ’ª Manusia berhasil mendorong meja menggunakan gaya otot!');
                    }, 2500);
                } else if (bola) {
                    document.getElementById('result').textContent = 'Melempar Bola';
                    bola.style.transition = 'all 1s ease-in-out';
                    bola.style.transform = 'translate(150px, -100px)';
                    
                    setTimeout(() => {
                        document.getElementById('simStatus').textContent = 'Selesai';
                        alert('ğŸ€ Manusia berhasil melempar bola menggunakan gaya otot!');
                    }, 1500);
                } else if (beban) {
                    document.getElementById('result').textContent = 'Mengangkat Beban';
                    beban.style.transition = 'all 1.5s ease-in-out';
                    beban.style.transform = 'translateY(-80px)';
                    
                    setTimeout(() => {
                        document.getElementById('simStatus').textContent = 'Selesai';
                        alert('âš–ï¸ Manusia berhasil mengangkat beban menggunakan gaya otot!');
                    }, 2000);
                } else if (pintu) {
                    document.getElementById('result').textContent = 'Membuka Pintu';
                    pintu.style.transition = 'all 1s ease-in-out';
                    pintu.style.transform = 'rotate(-45deg)';
                    
                    setTimeout(() => {
                        document.getElementById('simStatus').textContent = 'Selesai';
                        alert('ğŸšª Manusia berhasil membuka pintu menggunakan gaya otot!');
                    }, 1500);
                } else {
                    alert('âš ï¸ Manusia butuh objek untuk diinteraksikan (meja, bola, beban, atau pintu)!');
                    document.getElementById('simStatus').textContent = 'Siap';
                }
            } else {
                alert('âš ï¸ Untuk simulasi gaya otot, dibutuhkan manusia!');
                document.getElementById('simStatus').textContent = 'Siap';
            }
        }

        function resetSimulasi() {
            document.querySelectorAll('.dropped-object').forEach(obj => {
                obj.style.transform = 'none';
                obj.remove();
            });
            document.getElementById('objectCount').textContent = '0';
            document.getElementById('simStatus').textContent = 'Siap';
            document.getElementById('muscleForce').textContent = '-';
            document.getElementById('result').textContent = '-';
        }

        function hapusSemuaObjek() {
            document.querySelectorAll('.dropped-object').forEach(obj => obj.remove());
            document.getElementById('objectCount').textContent = '0';
        }
    </script>
</body>
</html>